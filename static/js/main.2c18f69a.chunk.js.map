{"version":3,"sources":["utils/functions.js","components/Featured/Featured.js","App.js","reportWebVitals.js","index.js"],"names":["getCookie","cname","name","ca","decodeURIComponent","document","cookie","split","i","length","c","charAt","substring","indexOf","Featured","useState","setFeatured","useEffect","token","axios","defaults","headers","common","error","console","log","setAuthHeader","get","then","res","data","playlists","catch","process","REACT_APP_CLIENT_ID","REACT_APP_AUTHORIZE_URL","REACT_APP_REDIRECT_URI","App","setToken","_token","hash","window","location","reduce","initial","item","parts","access_token","now","Date","time","getTime","setTime","toUTCString","className","type","onClick","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"kNAEaA,EAAY,SAACC,GAIzB,IAHA,IAAIC,EAAOD,EAAQ,IAEfE,EADgBC,mBAAmBC,SAASC,QACzBC,MAAM,KACpBC,EAAI,EAAGA,EAAIL,EAAGM,OAAQD,IAAK,CAEnC,IADA,IAAIE,EAAIP,EAAGK,GACY,MAAhBE,EAAEC,OAAO,IACfD,EAAIA,EAAEE,UAAU,GAEjB,GAAwB,IAApBF,EAAEG,QAAQX,GACb,OAAOQ,EAAEE,UAAUV,EAAKO,OAAQC,EAAED,QAGpC,MAAO,ICeOK,EA1BE,WAAO,IAAD,EACUC,mBAAS,IADnB,mBACLC,GADK,WAetB,OAZAC,qBAAU,YDWkB,WAC5B,IACC,IAAMC,EAAQlB,EAAU,SACpBkB,IACHC,IAAMC,SAASC,QAAQC,OAAvB,+BAA2DJ,IAC3D,MAAOK,GACRC,QAAQC,IAAI,qBAAsBF,IChBlCG,GAEAP,IACEQ,IAAI,wDACJC,MAAK,SAACC,GACNL,QAAQC,IAAII,EAAIC,KAAKC,WACrBf,EAAYa,EAAIC,KAAKC,cAErBC,OAAM,SAACT,GAAD,OAAWC,QAAQD,MAAMA,QAC/B,IAGF,yB,ECXEU,mTAHHC,E,EAAAA,oBACAC,E,EAAAA,wBACAC,E,EAAAA,uBAoEcC,MAjEf,WAAgB,IAAD,EACYtB,qBADZ,mBACPG,EADO,KACAoB,EADA,KA6Cd,OAtCArB,qBAAU,WACT,IAAIsB,EAASvC,EAAU,SAEvB,GAAsB,qBAAXuC,EAAwB,CAClC,IAAMC,EAAOC,OAAOC,SAASF,KAC3B5B,UAAU,GACVL,MAAM,KACNoC,QAAO,SAAUC,EAASC,GAC1B,GAAIA,EAAM,CACT,IAAIC,EAAQD,EAAKtC,MAAM,KACvBqC,EAAQE,EAAM,IAAM1C,mBAAmB0C,EAAM,IAE9C,OAAOF,IACL,IAEJH,OAAOC,SAASF,KAAO,GACvBF,EAASE,EAAKO,cAEd,IAAIC,EAAM,IAAIC,KACVC,EAAOF,EAAIG,UACfD,GAAQ,KACRF,EAAII,QAAQF,GAIZ7C,SAASC,OACR,SACAkC,EAAKO,aACL,YACAC,EAAIK,cACJ,eAIDf,EAASC,KAER,CAACrB,IAGH,qBAAKoC,UAAU,MAAf,SAQEpC,EACA,cAAC,EAAD,IAEA,wBAAQqC,KAAK,SAASC,QAtDL,WACnBf,OAAOC,SAAP,UAAqBP,EAArB,sBAA0DD,EAA1D,yBAA8FE,EAA9F,yBAqDE,mCCtDWqB,EAdS,SAACC,GACpBA,GAAeA,aAAuBC,UACzC,6BAAqB/B,MACpB,YAAkD,IAA/CgC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAClCJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHZO,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,EAAD,MAED9D,SAAS+D,eAAe,SAMzBX,M","file":"static/js/main.2c18f69a.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const getCookie = (cname) => {\r\n\tvar name = cname + \"=\";\r\n\tvar decodedCookie = decodeURIComponent(document.cookie);\r\n\tvar ca = decodedCookie.split(\";\");\r\n\tfor (var i = 0; i < ca.length; i++) {\r\n\t\tvar c = ca[i];\r\n\t\twhile (c.charAt(0) === \" \") {\r\n\t\t\tc = c.substring(1);\r\n\t\t}\r\n\t\tif (c.indexOf(name) === 0) {\r\n\t\t\treturn c.substring(name.length, c.length);\r\n\t\t}\r\n\t}\r\n\treturn \"\";\r\n};\r\n\r\nexport const setAuthHeader = () => {\r\n\ttry {\r\n\t\tconst token = getCookie(\"token\");\r\n\t\tif (token)\r\n\t\t\taxios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n\t} catch (error) {\r\n\t\tconsole.log(\"Error setting auth\", error);\r\n\t}\r\n};\r\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { setAuthHeader } from \"../../utils/functions\";\n\nconst Featured = () => {\n\tconst [featured, setFeatured] = useState([]);\n\n\tuseEffect(() => {\n\t\tsetAuthHeader();\n\n\t\taxios\n\t\t\t.get(\"https://api.spotify.com/v1/browse/featured-playlists\")\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res.data.playlists);\n\t\t\t\tsetFeatured(res.data.playlists);\n\t\t\t})\n\t\t\t.catch((error) => console.error(error));\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t{/* {featured.items.map((feat) => {\n\t\t\t\t<p>{feat}</p>;\n\t\t\t})} */}\n\t\t\t{/* <h1>{JSON.stringify(featured)}</h1> */}\n\t\t\t{/* <h1>{featured}</h1> */}\n\t\t</div>\n\t);\n};\n\nexport default Featured;\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.scss\";\nimport Featured from \"./components/Featured/Featured\";\nimport { getCookie } from \"./utils/functions\";\n\nconst {\n\tREACT_APP_CLIENT_ID,\n\tREACT_APP_AUTHORIZE_URL,\n\tREACT_APP_REDIRECT_URI,\n} = process.env;\n\nfunction App() {\n\tconst [token, setToken] = useState();\n\n\tconst handleLogin = () => {\n\t\twindow.location = `${REACT_APP_AUTHORIZE_URL}?client_id=${REACT_APP_CLIENT_ID}&redirect_uri=${REACT_APP_REDIRECT_URI}&response_type=token`;\n\t};\n\n\tuseEffect(() => {\n\t\tlet _token = getCookie(\"token\");\n\n\t\tif (typeof _token === \"undefined\") {\n\t\t\tconst hash = window.location.hash\n\t\t\t\t.substring(1)\n\t\t\t\t.split(\"&\")\n\t\t\t\t.reduce(function (initial, item) {\n\t\t\t\t\tif (item) {\n\t\t\t\t\t\tvar parts = item.split(\"=\");\n\t\t\t\t\t\tinitial[parts[0]] = decodeURIComponent(parts[1]);\n\t\t\t\t\t}\n\t\t\t\t\treturn initial;\n\t\t\t\t}, {});\n\n\t\t\twindow.location.hash = \"\";\n\t\t\tsetToken(hash.access_token);\n\n\t\t\tlet now = new Date();\n\t\t\tlet time = now.getTime();\n\t\t\ttime += 3600 * 1000;\n\t\t\tnow.setTime(time);\n\n\t\t\t// now.setTime(now.getTime() + 4 * 3600 * 1000);\n\n\t\t\tdocument.cookie =\n\t\t\t\t\"token=\" +\n\t\t\t\thash.access_token +\n\t\t\t\t\";expires=\" +\n\t\t\t\tnow.toUTCString() +\n\t\t\t\t\";path=/\";\n\n\t\t\t// document.cookie = `token=${hash.access_token}`;\n\t\t} else {\n\t\t\tsetToken(_token);\n\t\t}\n\t}, [token]);\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t{/* {!token && (\n\t\t\t\t<button type=\"submit\" onClick={handleLogin}>\n\t\t\t\t\tLogin with Spotify\n\t\t\t\t</button>\n\t\t\t)}\n\t\t\t{<Featured />} */}\n\n\t\t\t{token ? (\n\t\t\t\t<Featured />\n\t\t\t) : (\n\t\t\t\t<button type=\"submit\" onClick={handleLogin}>\n\t\t\t\t\tLogin with Spotify\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport(\"web-vitals\").then(\n\t\t\t({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\t\tgetCLS(onPerfEntry);\n\t\t\t\tgetFID(onPerfEntry);\n\t\t\t\tgetFCP(onPerfEntry);\n\t\t\t\tgetLCP(onPerfEntry);\n\t\t\t\tgetTTFB(onPerfEntry);\n\t\t\t}\n\t\t);\n\t}\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}